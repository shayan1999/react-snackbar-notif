import t,{useContext as e,useEffect as r,useState as n}from"react";import{jsxs as a,jsx as o}from"react/jsx-runtime";var c=function(){return c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)};function s(t,e,r,n){return new(r||(r=Promise))((function(a,o){function c(t){try{i(n.next(t))}catch(t){o(t)}}function s(t){try{i(n.throw(t))}catch(t){o(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(c,s)}i((n=n.apply(t,e||[])).next())}))}function i(t,e){var r,n,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=t.createContext({snackbarState:{toggleOpenSnackbar:!1,color:"success",message:null,vertical:"",horizontal:""},setSnackbarState:function(t){}}),u=function(){var t=e(l).setSnackbarState;return function(e){var r=e.message,n=e.color,a=e.vertical,o=e.horizontal;t(c(c({},StaticRange),{toggleOpenSnackbar:!0,message:r,color:n,vertical:a,horizontal:o}))}};!function(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}(".snackbar-container{align-items:center;border:transparent;border-radius:.75rem;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);color:#fff;display:flex;justify-content:center;max-width:30%;padding:.625rem 1rem;position:fixed;z-index:1000}.snackbar-rtl{direction:rtl}.snackbar-ltr{direction:ltr}.snackbar-left{left:10px}.snackbar-right{right:10px}.snackbar-bottom{bottom:1rem}.snackbar-bottom.snackbar-open{animation:fadeinBottom .5s}.snackbar-bottom.snackbar-close{animation:fadeoutBottom .5s}.snackbar-top{top:1rem}.snackbar-top.snackbar-open{animation:fadeinTop .5s}.snackbar-top.snackbar-close{animation:fadeoutTop .5s}.snackbar-center-horizontal{left:50%;transform:translateX(-50%)}.snackbar-center-vertical{top:50%}.snackbar-center-vertical.snackbar-open{animation:fadeinCenter .5s}.snackbar-center-vertical.snackbar-close{animation:fadeoutCenter .5s}.ms-2{margin-left:8px}.mr-2{margin-right:8px}.error-snack{background-color:#dc3545}.success-snack{background-color:#28a745}.warn-snack{background-color:#ffc107}.snackbar-button{align-items:center;background-color:transparent;border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;height:1.75rem;justify-content:center;opacity:1;padding:0;text-align:center;transition:.5s;width:1.75rem}.snackbar-button:hover{background-color:gray;opacity:.5}@keyframes fadeoutBottom{0%{bottom:1rem;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeinBottom{0%{bottom:0;opacity:0}to{bottom:1rem;opacity:1}}@keyframes fadeinTop{0%{opacity:0;top:0}to{opacity:1;top:1rem}}@keyframes fadeoutTop{0%{opacity:1;top:1rem}to{opacity:0;top:0}}@keyframes fadeinCenter{0%{opacity:0}to{opacity:1}}@keyframes fadeoutCenter{0%{opacity:1}to{opacity:0}}");var d={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f=t.createContext&&t.createContext(d),m=function(){return m=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},m.apply(this,arguments)},p=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r};function b(e){return e&&e.map((function(e,r){return t.createElement(e.tag,m({key:r},e.attr),b(e.child))}))}function k(e){return function(r){return t.createElement(h,m({attr:m({},e.attr)},r),b(e.child))}}function h(e){var r=function(r){var n,a=e.attr,o=e.size,c=e.title,s=p(e,["attr","size","title"]),i=o||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,s,{className:n,style:m(m({color:e.color||r.color},r.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),c&&t.createElement("title",null,c),e.children)};return void 0!==f?t.createElement(f.Consumer,null,(function(t){return r(t)})):r(d)}function v(t){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}function g(t){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"}}]})(t)}function y(t){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.953 2C6.465 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.493 2 11.953 2zM12 20c-4.411 0-8-3.589-8-8s3.567-8 7.953-8C16.391 4 20 7.589 20 12s-3.589 8-8 8z"}},{tag:"path",attr:{d:"M11 7h2v7h-2zm0 8h2v2h-2z"}}]})(t)}function x(t){return k({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]})(t)}var w=function(t){var n,u=t.timeout,d=t.vertical,f=t.horizontal,m=t.dir,p=e(l),b=p.snackbarState,k=p.setSnackbarState,h=b.toggleOpenSnackbar,w=b.message,z=b.color,S=b.vertical?b.vertical:d,O=b.horizontal?b.horizontal:f,C="bottom"===S?"snackbar-bottom":"center"===S?"snackbar-center-vertical":"snackbar-top",T="left"===O?"snackbar-left":"center"===O?"snackbar-center-horizontal":"snackbar-right";r((function(){return h&&function(){s(this,void 0,void 0,(function(){var t;return i(this,(function(e){return clearTimeout(n),null==(t=document.getElementById("custom-snack"))||t.classList.remove("snackbar-close"),null==t||t.classList.add("snackbar-open"),n=setTimeout((function(){null==t||t.classList.add("snackbar-close"),null==t||t.classList.remove("snackbar-open"),setTimeout((function(){k(c(c({},b),{message:null,toggleOpenSnackbar:!1}))}),500)}),u),[2]}))}))}(),function(){clearTimeout(n)}}),[h,w,n,z]);var B={error:{rtl:"خطا",ltr:"Error"},success:{rtl:"موفقیت",ltr:"Done"},warn:{rtl:"اخطار",ltr:"Warn"}};return h?a("div",c({"data-testid":"custom-snack",id:"custom-snack",className:"\n                    snackbar-container \n                    ".concat(C," \n                    ").concat(T," \n                    ").concat(h?"snackbar-open":"snackbar-close"," \n                    ").concat("error"===z?"error-snack":"success"===z?"success-snack":"warn-snack","\n                    ").concat("rtl"===m?"snackbar-rtl":"snackbar-ltr","\n                    ")},{children:[o("div",{children:"error"===z?o(y,{width:20,height:20}):o("success"===z?g:x,{})}),a("span",c({className:"ms-2 mr-2",style:{fontFamily:"serif",textAlign:"ltr"===m?"left":"right",wordBreak:"break-all"}},{children:["error"===z?B.error[m]:"success"===z?B.success[m]:B.warn[m],": ",w]})),o("div",{children:o("button",c({className:"snackbar-button ".concat("error"===z?"error-snack":"success"===z?"success-snack":"warn-snack"),onClick:function(){clearTimeout(n);var t=document.getElementById("custom-snack");null==t||t.classList.add("snackbar-close"),null==t||t.classList.remove("snackbar-open"),setTimeout((function(){k(c(c({},b),{message:null,toggleOpenSnackbar:!1}))}),500)}},{children:o(v,{})}))})]})):null},z=function(t){var e=t.children,r=t.timeout,s=void 0===r?3e3:r,i=t.vertical,u=void 0===i?"bottom":i,d=t.horizontal,f=void 0===d?"center":d,m=t.dir,p=void 0===m?"ltr":m,b=n({toggleOpenSnackbar:!1,color:"success",message:null,vertical:"bottom",horizontal:"center"}),k={snackbarState:b[0],setSnackbarState:b[1]};return a(l.Provider,c({value:k},{children:[o(w,{timeout:s,vertical:u,horizontal:f,dir:p}),e]}))};export{z as SnackbarProvider,u as useSnackbar};
